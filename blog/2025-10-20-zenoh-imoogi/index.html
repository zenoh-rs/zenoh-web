<!doctype html><html lang=en><head><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../site.webmanifest><link rel=mask-icon href=../../safari-pinned-tab.png><meta name=msapplication-TileImage content="/safari-pinned-tab.png"><meta name=msapplication-TileColor content="#7da7d8"><meta name=theme-color content="#7da7d8"><meta charset=utf-8><meta name=description content="Eclipse Zenoh, unify data in motion, data at rest and computations."><meta name=keywords content="pub/sub,query,geo distributed storage,Rust,protocol,DDS,MQTT,Edge,IoT,MEC"><meta name=author content="The Zenoh Team"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=../../css/bootstrap-reboot.css><link rel=stylesheet href=../../css/bootstrap.css><link rel=stylesheet href=../../css/font-awesome.min.css><link rel=stylesheet href=../../css/ato.css><link rel=stylesheet href=../../css/syntax.css><link rel=alternate type=application/rss+xml href=../../blog/index.xml><title>Zenoh 1.6.x: Imoogi ¬∑ Zenoh - pub/sub, geo distributed storage, query</title></head><body><header class="navbar-expand navbar-dark d-flex flex-column flex-md-row align-items-md-center ato-navbar"><div class="d-flex flex-row justify-content-between pl-2 pr-2"><a class=navbar-brand href=../../><img src=../../img/zenoh-dragon-bg-150x163.png class=align-middle alt></a>
<button class="btn btn-link d-md-none p-0" type=button data-toggle=collapse data-target=#ato-nav aria-controls=ato-nav aria-expanded=false aria-label="Toggle navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></div><div class="ato-links collapse pl-4 pl-md-0" id=ato-nav><ul class="navbar-nav flex-column flex-md-row"><li class=nav-item><a class=nav-link href=../../>Home</a></li><li class=nav-item><a class=nav-link href=../../docs/getting-started/first-app/>Documentation</a></li><li class=nav-item><a class=nav-link href=../../usecases/>Use Cases</a></li><li class=nav-item><a class=nav-link href=../../community/>Community</a></li><li class=nav-item><a class=nav-link href=../../adopters/>Adopters</a></li><li class=nav-item><a class=nav-link href=../../media/>Media</a></li><li class=nav-item><a class="nav-link active" href=../../blog/2025-12-11-zenoh-jiaolong/>Blog</a></li></ul></div><ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex"><li class=nav-item><a class="nav-link p-2" href=https://github.com/eclipse-zenoh/zenoh target=_blank rel=noopener aria-label=GitHub><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64.0.0 114.61.0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34.0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49.0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75.0.0 21.49-6.88 70.4 26.24a242.65 242.65.0 01128.18.0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69.0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41.0 34.22-.31 61.83-.31 70.23.0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37.0 256 0z" fill="currentcolor" fill-rule="evenodd"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://twitter.com/zettascaletech target=_blank rel=noopener aria-label=Twitter><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 416.32" focusable="false"><title>Twitter</title><path d="M160.83 416.32c193.2.0 298.92-160.22 298.92-298.92.0-4.51.0-9-.2-13.52A214 214 0 00512 49.38a212.93 212.93.0 01-60.44 16.6 105.7 105.7.0 0046.3-58.19 209 209 0 01-66.79 25.37 105.09 105.09.0 00-181.73 71.91 116.12 116.12.0 002.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48.0 0068 159.6a106.27 106.27.0 01-47.53-13.11v1.43a105.28 105.28.0 0084.21 103.06 105.67 105.67.0 01-47.33 1.84 105.06 105.06.0 0098.14 72.94A210.72 210.72.0 0125 370.84a202.17 202.17.0 01-25-1.43 298.85 298.85.0 00160.83 46.92" fill="currentcolor"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://discord.gg/2GJ958VuHs target=_blank rel=noopener aria-label=Discord><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Discord</title><path fill="currentcolor" d="M13.545 2.907a13.227 13.227.0 00-3.257-1.011.05.05.0 00-.052.025c-.141.25-.297.577-.406.833a12.19 12.19.0 00-3.658.0 8.258 8.258.0 00-.412-.833.051.051.0 00-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041.0 00-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276.0 003.995 2.02.05.05.0 00.056-.019c.308-.42.582-.863.818-1.329a.05.05.0 00-.01-.059.051.051.0 00-.018-.011 8.875 8.875.0 01-1.248-.595.05.05.0 01-.02-.066.051.051.0 01.015-.019c.084-.063.168-.129.248-.195a.05.05.0 01.051-.007c2.619 1.196 5.454 1.196 8.041.0a.052.052.0 01.053.007c.08.066.164.132.248.195a.051.051.0 01-.004.085 8.254 8.254.0 01-1.249.594.05.05.0 00-.03.03.052.052.0 00.003.041c.24.465.515.909.817 1.329a.05.05.0 00.056.019 13.235 13.235.0 004.001-2.02.049.049.0 00.021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034.0 00-.02-.019zm-8.198 7.307c-.789.0-1.438-.724-1.438-1.612.0-.889.637-1.613 1.438-1.613.807.0 1.45.73 1.438 1.613.0.888-.637 1.612-1.438 1.612zm5.316.0c-.788.0-1.438-.724-1.438-1.612.0-.889.637-1.613 1.438-1.613.807.0 1.451.73 1.438 1.613.0.888-.631 1.612-1.438 1.612z"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://www.youtube.com/channel/UCslbiyiqgOAPMjCrPWIfQ5Q target=_blank rel=noopener aria-label=Youtube><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Youtube</title><path fill="currentcolor" d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01.0 011.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007.0 01-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309.0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007.0 01-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82.082 9.716A31.4 31.4.0 010 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007.0 011.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788.0 017.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z"/></svg></a></li></ul><script async src="https://www.googletagmanager.com/gtag/js?id=G-PBD6MS51QL"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PBD6MS51QL")</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":""},"articleSection":"blog","name":"Zenoh 1.6.x: Imoogi","headline":"Zenoh 1.6.x: Imoogi","datePublished":"2025-10-20 00:00:00 \u002b0000 UTC","dateModified":"2025-10-20 00:00:00 \u002b0000 UTC","url":"\/blog\/2025-10-20-zenoh-imoogi\/","inLanguage":"en-US","author":"","creator":"","publisher":"","accountablePerson":"","copyrightHolder":"","copyrightYear":"202020","wordCount":"3158","keywords":[],"description":"20th October, 2025 -- Paris."}</script></header><div class="container-fluid ato-blog"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 ato-sidebar"><div class="ato-docs-toggle d-md-none p-0 d-flex ml-3 collapsed align-item-center"><h1 class=ato-title>Zenoh 1.6.x: Imoogi</h1><button class="btn btn-link" type=button data-toggle=collapse data-target=#ato-docs-nav aria-controls=ato-docs-nav aria-expanded=false aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></div><nav class="ato-links collapse" id=ato-docs-nav><div class="ato-toc-item active"><p class=ato-toc-link>Blog Posts</p><ul class="nav ato-sidenav"><li><a href=../../blog/2025-12-11-zenoh-jiaolong/>Zenoh 1.7.x: JiƒÅol√≥ng</a></li><li><a href=../../blog/2025-10-20-zenoh-imoogi/>Zenoh 1.6.x: Imoogi</a></li><li><a href=../../blog/2025-07-28-zenoh-hong/>Zenoh 1.5.0: Hong, the Red Dragon's Power</a></li><li><a href=../../blog/2025-07-11-zenoh-pico-peer-to-peer-unicast/>Zenoh-Pico Peer to Peer Improvements</a></li><li><a href=../../blog/2025-04-09-zenoh-pico-performance/>Zenoh-Pico performance improvements</a></li><li><a href=../../blog/2025-04-14-zenoh-gozuryu/>Zenoh Gozury≈´ is Here!</a></li><li><a href=../../blog/2025-01-08-introducing-raspberry-pi-pico-support-in-zenoh-pico/>Introducing Raspberry Pi Pico Support in Zenoh-Pico</a></li><li><a href=../../blog/2024-12-12-zenoh-firesong-1.1.0/>Zenoh 1.1.0: Firesong Keeps Rocking üé∏</a></li><li><a href=../../blog/2024-10-21-zenoh-firesong/>Zenoh 1.0.0 "Firesong" is ready to rock!</a></li><li><a href=../../blog/2024-04-30-zenoh-electrode/>Zenoh 0.11.0 "Electrode" release is out!</a></li><li><a href=../../blog/2024-04-17-datadog-zenoh-router-integration/>Streamlining Zenoh router Monitoring with Datadog Integration</a></li><li><a href=../../blog/2024-01-31-zenoh-flow-getting-started/>Zenoh-Flow 0.6.0-rc: Getting Started</a></li><li><a href=../../blog/2023-10-03-zenoh-dragonite/>Zenoh Dragonite Took Off!</a></li><li><a href=../../blog/2023-07-17-s3-backend/>Zenoh Storage Gets a Boost: Empowering Storage with S3 Integration</a></li><li><a href=../../blog/2023-06-05-charmander2/>Zenoh Charmander Grows Stronger</a></li><li><a href=../../blog/2023-04-04-letsencrypt/>Securing Zenoh with LetsEncrypt: A Comprehensive Guide</a></li><li><a href=../../blog/2023-03-21-zenoh-vs-mqtt-kafka-dds/>Comparing the Performance of Zenoh, MQTT, Kafka, and DDS</a></li><li><a href=../../blog/2023-02-10-zenoh-flow/>Data Flow programming with Zenoh-Flow</a></li><li><a href=../../blog/2023-01-17-zenoh-wireshark/>The Blue Dragon meets the Wire‚Äôs Shark</a></li><li><a href=../../blog/2023-01-10-zenoh-charmander/>Zenoh Charmander is coming to town</a></li><li><a href=../../blog/2022-11-29-zenoh-alignment/>Keeping storages aligned in Zenoh</a></li><li><a href=../../blog/2022-09-30-zenoh-bahamut/>Zenoh Bahamut takes flight!</a></li><li><a href=../../blog/2022-08-12-zenoh-serial/>There is Land Besides IP: How to Cross It with Zenoh</a></li><li><a href=../../blog/2022-06-09-zenoh-pico-above-and-beyond/>Zenoh-Pico: Above and Beyond</a></li><li><a href=../../blog/2022-04-14-rust-async-eval/>A Performance Evaluation on Rust Asynchronous Frameworks</a></li><li><a href=../../blog/2022-03-30-zenoh-mobility/>Mobility, Latency and Energy saving</a></li><li><a href=../../blog/2022-02-08-dragonbot/>DragonBotOne Egg Hatching with Zenoh and Zenoh-Pico</a></li><li><a href=../../blog/2021-11-09-ros2-zenoh-pico/>ROS 2 and microcontrollers integration via Zenoh-pico</a></li><li><a href=../../blog/2021-10-04-zenoh-pico-guide/>Zenoh goes embedded with zenoh-pico</a></li><li><a href=../../blog/2021-09-28-iac-experiences-from-the-trenches/>Indy Autonomous Challenge (IAC): Experiences from the Trenches</a></li><li><a href=../../blog/2021-07-13-zenoh-performance-async/>Zenoh performance: a stroll in Rust async wonderland</a></li><li><a href=../../blog/2021-07-05-zenoh-overhead/>Zenoh overhead: a story from our community</a></li><li><a href=../../blog/2021-06-14-zenoh-reliability/>Zenoh Reliability, Scalability and Congestion Control</a></li><li><a href=../../blog/2021-04-28-ros2-integration/>Integrating ROS2 with Eclipse zenoh</a></li><li><a href=../../blog/2021-03-23-discovery/>Minimizing Discovery Overhead in ROS2</a></li><li><a href=../../blog/2020-10-08-aithusa/>Zenoh Aithusa Hatched Out!</a></li><li><a href=../../blog/2020-06-29-zenoh-tidings/>Zenoh Tidings</a></li><li><a href=../../blog/2020-01-01-zenohtude/>A Year Full of Zenoh</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 ato-toc"><div class=section-nav><nav id=TableOfContents><ul><li><a href=#shm-improvements>SHM Improvements</a><ul><li><a href=#typed-shm-buffers>Typed SHM Buffers</a></li><li><a href=#improved-allocator>Improved Allocator</a></li><li><a href=#improved-allocation-builder-ergonomics>Improved Allocation Builder Ergonomics</a></li><li><a href=#buffer-layout-resize-and-safety>Buffer Layout, Resize and Safety</a></li><li><a href=#implicit-shm-optimization>Implicit SHM Optimization</a></li><li><a href=#precommit-shm-pages>Precommit SHM pages</a></li><li><a href=#shm-monitoring>SHM monitoring</a></li></ul></li><li><a href=#configuration-changes>Configuration changes</a></li><li><a href=#scalability-improvements>Scalability improvements</a></li><li><a href=#rust-175-compatibility-improvement>Rust 1.75 compatibility improvement</a></li><li><a href=#documentation-improvements>Documentation improvements</a></li></ul><ul><li><a href=#advanced-pubsub>Advanced Pub/Sub</a></li><li><a href=#mbed-tls-support>Mbed TLS Support</a><ul><li><a href=#certificate-validation-and-security>Certificate Validation and Security</a></li><li><a href=#configuration-options>Configuration Options</a></li><li><a href=#example-configuration>Example Configuration</a></li></ul></li><li><a href=#zp_read-optimization>zp_read Optimization</a><ul><li><a href=#batch-processing-for-improved-throughput>Batch Processing for Improved Throughput</a></li><li><a href=#no-data-notification>No-Data Notification</a></li><li><a href=#impact>Impact</a></li></ul></li></ul><ul><li><a href=#introduce-shm-api>Introduce SHM API</a></li></ul><ul><li><a href=#introduce-matching-api>Introduce Matching API</a></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 ato-content ato-docs"><h1 class=ato-title>Zenoh 1.6.x: Imoogi</h1><p class=ato-date>20th October, 2025 -- Paris.</p><p>We are thrilled to announce the release of Zenoh 1.6.x ‚Äì <strong>Imoogi</strong>!</p><p>Named after the Korean dragon that ascends to greatness, this release elevates the Zenoh ecosystem with powerful refinements and critical improvements. Imoogi focuses on stabilizing and extending the groundbreaking features introduced in version 1.5.0, bringing enhanced shared memory capabilities, improved configuration management, better scalability, and expanded language binding support.</p><p>Key highlights of this release include:</p><ul><li><strong>Shared Memory Evolution</strong>: Comprehensive SHM API improvements with typed buffers, better allocator performance, flexible allocation builders, buffer resize capabilities, implicit SHM optimization for large payloads, and precommit SHM pages ‚Äî delivering major throughput improvements.</li><li><strong>Configuration Consistency</strong>: Refined configuration parameters for improved usability, including renamed <code>congestion_control</code> value &ldquo;blockfirst&rdquo; to &ldquo;block_first&rdquo; and enhanced downsampling controls.</li><li><strong>Extended Language Support</strong>: Full shared memory API introduced in Zenoh-Python, comprehensive SHM updates in Zenoh-C, matching API in Zenoh-TS, and streamlined plugin interfaces.</li><li><strong>Zenoh-Pico Enhancements:</strong> Advanced Pub/Sub support with TLS security, bringing enterprise-grade security and reliability features to constrained devices.</li><li><strong>Scalability Enhancements</strong>: Fixed critical peer-to-peer topology issues and optimized discovery message processing, drastically reducing CPU consumption especially for ROS 2 use cases.</li><li><strong>Nu Integration:</strong> NuZe combines Nushell&rsquo;s powerful structured data scripting with Zenoh commands, providing a convenient tool for testing, debugging, and building interactive Zenoh applications.</li><li><strong>Documentation & Tooling</strong>: Significantly expanded Rust documentation with usage examples and cross-references, improved README structure, Rust 1.75 compatibility enhancements, and better plugin diagnostics.</li></ul><p>Let&rsquo;s explore what Imoogi brings to the Zenoh ecosystem!</p><h1 id=zenoh>Zenoh</h1><h2 id=shm-improvements>SHM Improvements</h2><h3 id=typed-shm-buffers>Typed SHM Buffers</h3><p>Zenoh 1.5 introduced a fully <strong>generic, typed</strong> shared-memory API. All SHM buffer traits are now generic over the data type, and a new <code>Typed&lt;T, ‚Ä¶></code> wrapper provides a high-level, type-safe view over the raw SHM buffer <a href=https://github.com/eclipse-zenoh/zenoh/pull/2034>(PR)</a>. In other words, you can treat a shared buffer almost like a Rust struct. For example, if you have a C-compatible struct:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#099>#[repr(C)]</span><span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#069;font-weight:700>struct</span> <span style=color:#0a8;font-weight:700>MyData</span><span style=color:#bbb> </span>{<span style=color:#bbb> </span>x: <span style=color:#078;font-weight:700>u32</span>,<span style=color:#bbb> </span>y: <span style=color:#078;font-weight:700>u16</span> }<span style=color:#bbb>
</span></span></span></code></pre></div><p>you can build a layout and allocate a buffer for it, then wrap it in <code>Typed&lt;MyData, ‚Ä¶></code> to access fields safely:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>layout<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>TypedLayout::<span style=color:#555>&lt;</span>MyData<span style=color:#555>&gt;</span>::new();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span><span style=color:#069;font-weight:700>mut</span><span style=color:#bbb> </span>typed_buf: <span style=color:#0a8;font-weight:700>Typed</span><span style=color:#555>&lt;</span>MyData,<span style=color:#bbb> </span>ZShmMut<span style=color:#555>&gt;</span><span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>provider<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>.alloc(layout)<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>.wait()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>.unwrap()<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>    </span>.assume_init();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span>typed_buf.as_mut().x<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span><span style=color:#f60>42</span>;<span style=color:#bbb>    </span><span style=color:#09f;font-style:italic>// safe, typed access
</span></span></span></code></pre></div><p>Under the hood, this enforces the correct alignment and size for <code>MyData</code>, avoiding manual casting.</p><h3 id=improved-allocator>Improved Allocator</h3><p>The SHM allocator is now based on the <a href=https://crates.io/crates/talc>talc</a> allocator and performs much more efficiently in real-world workload scenarios, addressing performance and fragmentation issues.</p><h3 id=improved-allocation-builder-ergonomics>Improved Allocation Builder Ergonomics</h3><p>Allocation builders are now much simpler and more robust. The provider&rsquo;s <code>alloc</code> method is generic and accepts different layout descriptions such as <code>usize</code>, <code>(usize, AllocAlignment)</code>, and <code>MemoryLayout</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#09f;font-style:italic>// Option 1: Simple allocation
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>_shm_buf<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>provider.alloc(<span style=color:#f60>512</span>).wait()<span style=color:#555>?</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#09f;font-style:italic>// Option 2: Allocation with custom alignment
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>_shm_buf<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>provider<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.alloc((<span style=color:#f60>512</span>,<span style=color:#bbb> </span>AllocAlignment::ALIGN_2_BYTES))<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb>            </span>.wait()<span style=color:#555>?</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#c30;font-style:italic>/// Layout allocation:
</span></span></span><span style=display:flex><span><span style=color:#c30;font-style:italic></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>layout<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>provider.alloc_layout(<span style=color:#f60>512</span>)<span style=color:#555>?</span>;<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>_shm_buf<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>layout.alloc().wait()<span style=color:#555>?</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><h3 id=buffer-layout-resize-and-safety>Buffer Layout, Resize and Safety</h3><p>The SHM API rework also clarified <em>owned vs. borrowed</em> buffers and added dynamic operations. Notably, you can now <strong>resize a shared buffer in place</strong>, which wasn&rsquo;t previously possible. For example, after allocating a buffer you can:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span>shm_buf.try_resize(new_len)<span style=color:#555>?</span>;<span style=color:#bbb>
</span></span></span></code></pre></div><p>to grow or shrink it (within its segment&rsquo;s limits).</p><p>We also expose alignment defaults and constants (<code>ALIGN_N_BYTE(S)</code>) and have tightened lifetime management: SHM buffers now own their segment handle to ensure proper cleanup. New unchecked mutability methods (<code>as_mut_unchecked()</code>) were added for cases where you <em>know</em> a mutable borrow is safe. Overall, these API changes make working with SHM buffers more predictable and idiomatic to Rust.</p><h3 id=implicit-shm-optimization>Implicit SHM Optimization</h3><p>Perhaps the most thrilling change is that Zenoh now <strong>automatically uses shared memory for large data</strong>. In practice, this means you don&rsquo;t have to do anything special: if you publish a large payload, Zenoh will &ldquo;implicitly pack&rdquo; it into SHM and transmit just a reference locally. For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span><span style=color:#069;font-weight:700>let</span><span style=color:#bbb> </span>large_data<span style=color:#bbb> </span><span style=color:#555>=</span><span style=color:#bbb> </span>vec![<span style=color:#f60>0</span><span style=color:#069;font-weight:700>u8</span>;<span style=color:#bbb> </span><span style=color:#f60>1_000_000</span>];<span style=color:#bbb>   </span><span style=color:#09f;font-style:italic>// 1 MB payload
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>publisher.put(large_data).<span style=color:#069;font-weight:700>await</span>.unwrap();<span style=color:#bbb>
</span></span></span><span style=display:flex><span><span style=color:#bbb></span><span style=color:#09f;font-style:italic>// Zenoh will use SHM under the hood for this large message.
</span></span></span></code></pre></div><p>This implicit SHM transport applies in all modes (even when using a router), vastly improving throughput for local messages.</p><h3 id=precommit-shm-pages>Precommit SHM pages</h3><p><strong>What changed:</strong> the SHM provider now pre-commits newly-created shared-memory buffers and locks their pages into physical RAM before handing them to consumers. Concretely, pages that previously could be allocated lazily (and thus incur a page fault on first touch) are committed and locked so the memory backing the SHM buffer is resident and won&rsquo;t trigger major page faults later <a href=https://github.com/eclipse-zenoh/zenoh/pull/2175>(PR)</a>.</p><p><strong>Observable runtime effect:</strong> previously a large zero-copy handoff could incur an unpredictable latency spike when the OS needed to fault in pages; after this change those first-access page fault penalties are removed (at the cost of doing the work up front). That makes SHM handoffs much more deterministic and stable for real-time/edge use cases where a router or local consumer must forward large buffers with tight latency requirements.</p><p><strong>Performance & resource tradeoffs:</strong> precommitting shifts the cost from the consumer&rsquo;s first access to SHM segment creation time ‚Äî it takes slightly longer and the process&rsquo; resident memory increases immediately. It also prevents lazy swapping for those pages, so overall resident memory can be higher. These are intentional tradeoffs: you trade a small, predictable allocation cost and higher resident footprint for removing rare but large, unpredictable page fault latency spikes.</p><p><strong>Failure modes & safeguards:</strong> the PR adds more careful logging around the SHM provider (e.g., logging errors in <code>LazyShmProvider</code>) and CI/test adjustments to cope with platform limits. Integrators should expect to see error logs if the OS refuses to lock pages and should verify system limits (e.g., <code>RLIMIT_MEMLOCK</code> on Linux).</p><p><strong>Actionable implications:</strong></p><ul><li>If you need strict, deterministic forwarding latency (routers, real-time edge processes), this change reduces the risk of rare but large latency spikes due to page faults.</li><li>If you run on constrained or multi-tenant systems, audit your memory-locking limits (or configure Zenoh hosts where locking is required to have appropriate privileges/limits) and account for the increased resident memory.</li><li>Watch the SHM provider logs for locking errors during startup; the PR makes those errors visible.</li></ul><h3 id=shm-monitoring>SHM monitoring</h3><h4 id=transportsession-shm-indicator>TransportSession SHM indicator</h4><p>A boolean field has been added to the <code>session</code> object of the AdminSpace report indicating whether SHM is enabled for the relevant TransportSession.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>[
</span></span><span style=display:flex><span>   {
</span></span><span style=display:flex><span>       <span style=color:#309;font-weight:700>&#34;key&#34;</span>: <span style=color:#c30>&#34;@/aaaaaaaaaaaaaaaa/router&#34;</span>,
</span></span><span style=display:flex><span>       <span style=color:#309;font-weight:700>&#34;value&#34;</span>: {
</span></span><span style=display:flex><span>           <span style=color:#309;font-weight:700>&#34;sessions&#34;</span>: [
</span></span><span style=display:flex><span>               {
</span></span><span style=display:flex><span>                   <span style=color:#309;font-weight:700>&#34;peer&#34;</span>: <span style=color:#c30>&#34;bbbbbbbbbbbbbbbb&#34;</span>,
</span></span><span style=display:flex><span>                   <span style=color:#309;font-weight:700>&#34;shm&#34;</span>: <span style=color:#c30>&#34;true&#34;</span>,
</span></span><span style=display:flex><span>                   <span style=color:#309;font-weight:700>&#34;whatami&#34;</span>: <span style=color:#c30>&#34;client&#34;</span>,
</span></span><span style=display:flex><span>                   <span style=color:#a00;background-color:#faa>...</span>
</span></span><span style=display:flex><span>               }
</span></span><span style=display:flex><span>           ],
</span></span><span style=display:flex><span>           <span style=color:#a00;background-color:#faa>...</span>
</span></span><span style=display:flex><span>       },
</span></span><span style=display:flex><span>       <span style=color:#a00;background-color:#faa>...</span>
</span></span><span style=display:flex><span>   }
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><h4 id=shm-related-statistics>SHM related statistics</h4><p>The statistics reports have been updated to distinguish between network messages sent and received through SHM and those sent and received through the network.</p><p>In the JSON report:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#c30>&#34;stats&#34;</span><span style=color:#a00;background-color:#faa>:</span> {
</span></span><span style=display:flex><span>    <span style=color:#309;font-weight:700>&#34;rx_n_msgs&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;net&#34;</span>: <span style=color:#f60>4</span>,
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;shm&#34;</span>: <span style=color:#f60>12</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#309;font-weight:700>&#34;tx_n_msgs&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;net&#34;</span>: <span style=color:#f60>20</span>,
</span></span><span style=display:flex><span>        <span style=color:#309;font-weight:700>&#34;shm&#34;</span>: <span style=color:#f60>45</span>
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    <span style=color:#a00;background-color:#faa>...</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In the OpenMetrics report:</p><pre tabindex=0><code class=language-prometheus data-lang=prometheus># HELP rx_n_msgs Counter of received network messages.
# TYPE rx_n_msgs counter
rx_n_msgs 16
rx_n_msgs{media=&#34;net&#34;} 4
rx_n_msgs{media=&#34;shm&#34;} 12
# HELP tx_n_msgs Counter of sent network messages.
# TYPE tx_n_msgs counter
tx_n_msgs 65
tx_n_msgs{media=&#34;net&#34;} 20
tx_n_msgs{media=&#34;shm&#34;} 45
</code></pre><p>Note: to enable statistics, Zenoh has to be built with the <a href=https://docs.rs/crate/zenoh/1.6.2/features><code>stats</code> feature</a>.</p><h2 id=configuration-changes>Configuration changes</h2><p>In version 1.6.x, we introduced minor modifications to the Zenoh configuration to improve its overall consistency:</p><ul><li>The unstable <code>congestion_control</code> value &ldquo;blockfirst&rdquo; was renamed to &ldquo;block_first&rdquo;.</li><li>The &ldquo;downsampling/messages&rdquo; value &ldquo;push&rdquo; has been deprecated and may no longer be supported in future versions. It has been replaced with &ldquo;put&rdquo; and &ldquo;delete&rdquo; values (similar to other interceptors), which allow separate control of the publishing frequency for PUT and DELETE messages.</li></ul><h2 id=scalability-improvements>Scalability improvements</h2><p>In version 1.6.x, we fixed a bug that was causing an infinite loop of messages across multiple processes in a peer-to-peer topology <a href=https://github.com/eclipse-zenoh/zenoh/pull/214>(PR)</a>. We also applied various optimizations that reduce CPU consumption for discovery message processing <a href=https://github.com/eclipse-zenoh/zenoh/pull/2174>(PR)</a>.</p><p>Overall, these changes drastically reduced CPU consumption and significantly improved Zenoh scalability, especially in peer-to-peer scenarios and the rmw_zenoh use case.</p><h2 id=rust-175-compatibility-improvement>Rust 1.75 compatibility improvement</h2><p>The <strong>zenoh</strong> crate is declared to be compatible with Rust 1.75. This compatibility is maintained to support ROS2 Humble users on Ubuntu 22.04 LTS, which ships with Rust 1.75 as the official package version‚Äîessential for building rmw_zenoh on that platform.</p><p>Unfortunately, the Rust version compatibility checker ignores the fact that dependent crates evolve, and a crate that worked with Rust 1.75 at one point may later fail to compile because some of its dependencies have bumped their minimum supported versions.</p><p>One possible solution would be to use pinned dependencies (e.g., <code>"=0.1.2"</code>) in zenoh itself, but this approach can cause compatibility issues.</p><p>The solution is to include an additional crate, <a href=https://crates.io/crates/zenoh-pinned-deps-1-75>zenoh-pinned-deps-1-75</a>, which pins all failing dependencies (as of the time of release üò≠) to versions compatible with Rust 1.75.</p><h2 id=documentation-improvements>Documentation improvements</h2><p>The <a href=https://docs.rs/zenoh/latest/zenoh/>Rust documentation</a> has been significantly extended. Introductory paragraphs with usage examples were added to the main page and each module. Features were documented, and functions and types were cross-linked to ensure that users would not get lost when encountering a type without knowing its purpose or how to use it.</p><p>The project&rsquo;s <a href=https://github.com/eclipse-zenoh/zenoh/blob/main/README.md>README</a> was also improved and systematized. Each component now has its own README, with the root README linking to all of them.</p><h1 id=zenoh-pico>Zenoh-Pico</h1><h2 id=advanced-pubsub>Advanced Pub/Sub</h2><p>Zenoh-Pico now includes support for the Advanced Publisher and Subscriber, bringing it in line with core Zenoh, where this functionality was first introduced in version <a href=https://zenoh.io/blog/2024-12-12-zenoh-firesong-1.1.0/>1.1.0</a>.</p><p>These features enable reliable communication even when using best-effort links such as UDP/IP.</p><p>This version introduces:</p><ul><li>An Advanced Publisher that can:<ul><li>Cache the last published samples to support history or recovery for Advanced Subscribers.</li><li>Sequence samples to enable detection of missed samples.</li><li>Automatically create a liveliness token to assert its presence and allow matching subscribers to detect availability.</li><li>Send heartbeat messages (periodically or sporadically) to inform subscribers about available samples for recovery ‚Äî ensuring end-to-end reliability even if the last sample was lost or no new samples are published.</li></ul></li><li>An Advanced Subscriber that can:<ul><li>Retrieve historical data from Advanced Publishers.</li><li>Detect missed samples and optionally recover them.</li><li>Monitor matching publishers‚Äô liveliness to query history for late joiners.</li><li>Use heartbeat updates to maintain synchronisation with Advanced Publishers without relying on periodic queries.</li></ul></li></ul><p>The API is consistent with the Zenoh-C implementation first introduced in <a href=https://zenoh.io/blog/2025-04-14-zenoh-gozuryu/>Zenoh Gozury≈´</a>. Note that in addition to starting the read and lease tasks, you must also start the periodic scheduler task when using the Advanced Publisher or Subscriber:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>z_result_t res <span style=color:#555>=</span> zp_start_periodic_scheduler_task(z_loan_mut(s), <span style=color:#366>NULL</span>);
</span></span></code></pre></div><p>Complete examples can be found at <a href=https://github.com/eclipse-zenoh/zenoh-pico/blob/main/examples/unix/c11/z_advanced_pub.c>z_advanced_pub.c</a> and <a href=https://github.com/eclipse-zenoh/zenoh-pico/blob/main/examples/unix/c11/z_advanced_sub.c>z_advanced_sub.c</a>.</p><h2 id=mbed-tls-support>Mbed TLS Support</h2><p>Secure communication is essential for IoT deployments, especially when connecting devices to cloud platforms or transmitting sensitive data. With this release, Zenoh-Pico brings enterprise-grade security to constrained devices through TLS and mutual TLS (mTLS) support via Mbed TLS.</p><p>TLS provides encryption and server authentication, ensuring that your devices communicate securely over untrusted networks. Mutual TLS goes further by requiring both client and server to authenticate each other with certificates, providing strong device identity verification‚Äîa critical requirement for production IoT deployments and cloud platforms like the Zetta Platform PaaS.</p><p>Zenoh-Pico now supports TLS via Mbed TLS in both client and peer modes. Enable it at build time with <code>Z_FEATURE_LINK_TLS=1</code> and use <code>tls/&lt;host>:&lt;port></code> locators. This feature is currently available for Unix platforms.</p><h3 id=certificate-validation-and-security>Certificate Validation and Security</h3><p>The TLS implementation includes robust security features:</p><ul><li><strong>Certificate chain validation</strong>: Required by default. Provide a CA bundle using <code>Z_CONFIG_TLS_ROOT_CA_CERTIFICATE_KEY</code> (or the inline <code>*_BASE64_KEY</code> variant for embedded certificates).</li><li><strong>Hostname verification</strong>: Automatically validates the server certificate&rsquo;s Common Name (CN) and Subject Alternative Name (SAN) against the hostname. This can be disabled if needed via <code>Z_CONFIG_TLS_VERIFY_NAME_ON_CONNECT_KEY</code>.</li><li><strong>Mutual TLS (mTLS)</strong>: Full support for client certificate authentication, enabled with <code>Z_CONFIG_TLS_ENABLE_MTLS_KEY=true</code>.</li></ul><h3 id=configuration-options>Configuration Options</h3><p><strong>For peer mode (listening)</strong>:</p><p>Configure your server certificate and private key with <code>Z_CONFIG_TLS_LISTEN_CERTIFICATE_{KEY,BASE64_KEY}</code> and <code>Z_CONFIG_TLS_LISTEN_PRIVATE_KEY_{KEY,BASE64_KEY}</code>.</p><p><strong>For client mode with mTLS</strong>:</p><p>Configure your client certificate and private key with <code>Z_CONFIG_TLS_CONNECT_CERTIFICATE_{KEY,BASE64_KEY}</code> and <code>Z_CONFIG_TLS_CONNECT_PRIVATE_KEY_{KEY,BASE64_KEY}</code>.</p><p>All configuration options are fully documented in <code>docs/config.rst</code>.</p><h3 id=example-configuration>Example Configuration</h3><p>Here&rsquo;s a complete example showing client-side mTLS with inline base64-encoded certificates:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>z_owned_config_t cfg;
</span></span><span style=display:flex><span>z_config_default(<span style=color:#555>&amp;</span>cfg);
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Connect to TLS endpoint
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>zp_config_insert(z_loan_mut(cfg), Z_CONFIG_CONNECT_KEY, <span style=color:#c30>&#34;tls/127.0.0.1:7447&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Set CA certificate for server validation
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>zp_config_insert(z_loan_mut(cfg), Z_CONFIG_TLS_ROOT_CA_CERTIFICATE_KEY, <span style=color:#c30>&#34;/home/user/client/minica.pem&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Enable mutual TLS
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>zp_config_insert(z_loan_mut(cfg), Z_CONFIG_TLS_ENABLE_MTLS_KEY, <span style=color:#c30>&#34;true&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Set client credentials
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>zp_config_insert(z_loan_mut(cfg), Z_CONFIG_TLS_CONNECT_PRIVATE_KEY_BASE64_KEY, client_key_base64);
</span></span><span style=display:flex><span>zp_config_insert(z_loan_mut(cfg), Z_CONFIG_TLS_CONNECT_CERTIFICATE_BASE64_KEY, client_cert_base64);
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Disable hostname verification (testing only)
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>zp_config_insert(z_loan_mut(cfg), Z_CONFIG_TLS_VERIFY_NAME_ON_CONNECT_KEY, <span style=color:#c30>&#34;false&#34;</span>);
</span></span></code></pre></div><p>Complete working examples for publishing and subscribing over TLS can be found in <code>examples/unix/c11/z_pub_tls.c</code> and <code>examples/unix/c11/z_sub_tls.c</code>.</p><h2 id=zp_read-optimization>zp_read Optimization</h2><p>The <code>zp_read</code> function has undergone significant optimization in this release, addressing critical performance and reliability issues that affected applications processing high message throughput. These improvements come from two complementary enhancements that transform how Zenoh-Pico handles network data.</p><h3 id=batch-processing-for-improved-throughput>Batch Processing for Improved Throughput</h3><p>The original <code>zp_read</code> implementation processed only a single message per call, creating a significant performance bottleneck. Applications had to repeatedly call <code>zp_read</code> to drain the network buffer, and when messages arrived faster than they could be processed one-by-one, TCP buffers would overflow, causing data corruption.</p><p>The new default behavior processes all available messages in the buffer in a single <code>zp_read</code> call. This batch processing approach:</p><ul><li><strong>Prevents TCP buffer overflow</strong>: By draining the network buffer faster, the risk of overflow and resulting data corruption is eliminated</li><li><strong>Improves throughput</strong>: Reduces syscall overhead and processes multiple messages efficiently</li><li><strong>Maintains backward compatibility</strong>: Applications requiring the old behavior can set <code>single_read = true</code> in the options</li></ul><p><strong>API Changes:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#069;font-weight:700>typedef</span> <span style=color:#069;font-weight:700>struct</span> {
</span></span><span style=display:flex><span>    <span style=color:#078;font-weight:700>bool</span> single_read;  <span style=color:#09f;font-style:italic>// Read a single packet instead of the whole buffer
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>} zp_read_options_t;
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Default is batch processing (single_read = false)
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#078;font-weight:700>void</span> <span style=color:#c0f>zp_read_options_default</span>(zp_read_options_t <span style=color:#555>*</span>options) {
</span></span><span style=display:flex><span>    options<span style=color:#555>-&gt;</span>single_read <span style=color:#555>=</span> <span style=color:#366>false</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The implementation now efficiently processes all messages in both unicast and multicast transport modes.</p><p>More details can be found in this <a href=https://github.com/eclipse-zenoh/zenoh-pico/pull/1004>PR</a>.</p><h3 id=no-data-notification>No-Data Notification</h3><p>After changing <code>zp_read</code> to batch processing, applications needed a way to distinguish between successful operations that processed data and calls where no data was available. Previously, both scenarios returned <code>Z_OK</code>, making it impossible to implement efficient polling strategies or detect when the network buffer was empty.</p><p>A new result code <code>Z_NO_DATA_PROCESSED</code> was introduced specifically for this scenario.</p><p>This enhancement enables applications to implement smarter polling strategies and optimize resource usage:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>z_result_t result <span style=color:#555>=</span> zp_read(session, <span style=color:#366>NULL</span>);
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>if</span> (result <span style=color:#555>==</span> Z_NO_DATA_PROCESSED) {
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// No data available, can back off or sleep
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>    <span style=color:#09f;font-style:italic>// Perfect for power-constrained devices
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>} <span style=color:#069;font-weight:700>else</span> <span style=color:#069;font-weight:700>if</span> (result <span style=color:#555>==</span> Z_OK) {
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// Data was processed, might want to read again immediately
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>} <span style=color:#069;font-weight:700>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#09f;font-style:italic>// Handle error (result &lt; 0)
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>}
</span></span></code></pre></div><p><strong>Benefits:</strong></p><ul><li><strong>Efficient polling</strong>: Applications can avoid tight polling loops when no data is available.</li><li><strong>CPU usage optimization</strong>: Reduces unnecessary processing cycles.</li><li><strong>Better diagnostics</strong>: Developers can distinguish between successful operations and empty reads.</li><li><strong>Power efficiency</strong>: Particularly valuable for embedded and battery-powered devices.</li></ul><p>More details can be found in this <a href=https://github.com/eclipse-zenoh/zenoh-pico/pull/1022>PR</a>.</p><h3 id=impact>Impact</h3><p>Together, these optimizations provide:</p><ul><li><strong>Better performance</strong> through batch processing of network buffers.</li><li><strong>Better reliability</strong> by preventing TCP buffer overflow and data corruption.</li><li><strong>Better diagnostics</strong> through explicit no-data signaling.</li><li><strong>Better resource efficiency</strong> through smarter polling strategies.</li></ul><p>These changes are particularly impactful for:</p><ul><li>High-throughput applications processing many small messages.</li><li>Embedded systems with constrained resources.</li><li>Event-driven applications that need efficient idle behavior.</li><li>Applications running on congested or unreliable networks.</li></ul><h1 id=zenoh-python>Zenoh-Python</h1><h2 id=introduce-shm-api>Introduce SHM API</h2><p>A shared memory API has been added to zenoh-python, allowing you to allocate and write to shared-memory segments before sending them through Zenoh.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#09f;font-style:italic># Create a provider with 1 MB buffer</span>
</span></span><span style=display:flex><span>provider <span style=color:#555>=</span> zenoh<span style=color:#555>.</span>shm<span style=color:#555>.</span>ShmProvider<span style=color:#555>.</span>default_backend(<span style=color:#f60>1024</span> <span style=color:#555>*</span> <span style=color:#f60>1024</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>payload <span style=color:#555>=</span> <span style=color:#c30>b</span><span style=color:#c30>&#34;shared memory payload&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Allocate buffer with garbage collection policy</span>
</span></span><span style=display:flex><span>sbuf <span style=color:#555>=</span> provider<span style=color:#555>.</span>alloc(
</span></span><span style=display:flex><span>   <span style=color:#366>len</span>(payload), policy<span style=color:#555>=</span>zenoh<span style=color:#555>.</span>shm<span style=color:#555>.</span>BlockOn(zenoh<span style=color:#555>.</span>shm<span style=color:#555>.</span>GarbageCollect())
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Write data to shared buffer</span>
</span></span><span style=display:flex><span>sbuf[:] <span style=color:#555>=</span> payload
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic># Publish - subscribers in the same host will access via shared memory</span>
</span></span><span style=display:flex><span>session<span style=color:#555>.</span>put(sbuf)
</span></span></code></pre></div><h1 id=zenoh-c>Zenoh-C</h1><p>The SHM API has been updated to align with recent changes in the Rust API, specifically the renaming of <code>alloc_layout</code> to <code>precomputed_layout</code>. While the renamed items are deprecated, they remain accessible to facilitate a smoother migration process for developers.</p><p>For example:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#09f;font-style:italic>// Old API (deprecated but still available)
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>z_owned_alloc_layout_t alloc_layout;
</span></span><span style=display:flex><span>z_alloc_layout_with_alignment_new(<span style=color:#555>&amp;</span>alloc_layout, z_loan(<span style=color:#555>*</span>provider), buf_ok_size, alignment));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// New API (recommended)
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>z_owned_precomputed_layout_t precomputed_layout;
</span></span><span style=display:flex><span>z_shm_provider_alloc_layout_aligned(<span style=color:#555>&amp;</span>precomputed_layout, z_loan(<span style=color:#555>*</span>provider), buf_ok_size, alignment));
</span></span></code></pre></div><h1 id=zenoh-ts>Zenoh-TS</h1><h2 id=introduce-matching-api>Introduce Matching API</h2><p>We added the last missing part of core Zenoh functionality - matching listener and matching status for Publisher and Querier in Zenoh-TS 1.6.x. Similarly to other languages, the new API can be used as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=display:flex><span><span style=color:#069;font-weight:700>const</span> publisher: <span style=color:#078;font-weight:700>Publisher</span> <span style=color:#555>=</span> <span style=color:#069;font-weight:700>await</span> session.declarePublisher(keyExpr);
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>const</span> listenerCallback <span style=color:#555>=</span> <span style=color:#069;font-weight:700>function</span> (status: <span style=color:#078;font-weight:700>MatchingStatus</span>) {
</span></span><span style=display:flex><span>  <span style=color:#069;font-weight:700>if</span> (status.matching()) {
</span></span><span style=display:flex><span>    console.warn(<span style=color:#c30>&#34;Publisher has matching subscribers.&#34;</span>)
</span></span><span style=display:flex><span>  } <span style=color:#069;font-weight:700>else</span> {
</span></span><span style=display:flex><span>    console.warn(<span style=color:#c30>&#34;Publisher has NO MORE matching subscribers&#34;</span>)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#069;font-weight:700>let</span> matchingListener <span style=color:#555>=</span> <span style=color:#069;font-weight:700>await</span> publisher.matchingListener({handler: <span style=color:#078;font-weight:700>listenerCallback</span> });
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Now every time matching status of publisher changes (i.e. first subscriber connects, or last one disconnects) a listenerCallback will be triggered
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#09f;font-style:italic>// Alternatively it is also possible to access matching status of publisher at any moment of time using
</span></span></span><span style=display:flex><span><span style=color:#09f;font-style:italic></span><span style=color:#069;font-weight:700>let</span> matchingStatus <span style=color:#555>=</span> publisher.matchingStatus().<span style=color:#069;font-weight:700>await</span>;
</span></span></code></pre></div><h1 id=plugin-api-update>Plugin API Update</h1><p>Prior to 1.6.x, due to the absence of a stable ABI in Rust, it was necessary to ensure that plugins and zenohd were built with the same version of Rust, the same Zenoh version and features, and additionally that all common dependency crates of plugins and Zenoh (such as <em><strong>serde</strong></em> or <em><strong>tokio</strong></em>) had the same version and contained exactly the same features. The last requirement was especially difficult to satisfy.</p><p>In the new version, we reworked the plugin interface, and it should no longer be necessary to satisfy the last constraint.</p><p>The requirement for the same version of Rust and the same Zenoh version and features still remains, but the diagnostics for such mismatches have also been improved.</p><h1 id=nuze-nu-meets-zenoh>NuZe: Nu meets Zenoh</h1><p>Nu is the powerful scripting language underlying <a href=https://www.nushell.sh/>Nushell</a>. In Nu, everything is <em>structured</em> data in the form of <a href=https://www.nushell.sh/lang-guide/chapters/types/basic_types/table.html>tables</a>. This allows commands to pipeline in a natural, robust, and consistent way. Tables are a particularly great fit for Zenoh data: sample streams are tables where each column represents a sample property (e.g., key-expression, timestamp, encoding, etc.).</p><p>NuZe (/nuz/) embeds the upstream Nu engine and extends it with Zenoh commands through the Rust bindings. The result is a single standalone executable that combines Nushell functionality with an extensive collection of custom Zenoh commands. The Asciinema recording below illustrates the use of NuZe to declare a queryable and send a query to it:</p><p><a href=https://asciinema.org/a/Uy6yvpT86vWzYW5DmWBfLcc8V><img src=https://asciinema.org/a/Uy6yvpT86vWzYW5DmWBfLcc8V.svg alt=asciicast></a></p><p>NuZe was conceived to facilitate testing and debugging of Zenoh applications: it is a convenient tool to write end-to-end tests and quickly poke into a Zenoh network. It also (unsurprisingly) serves as a powerful building block for interactive Zenoh applications in a given domain.</p><p>NuZe currently lives in <a href=https://github.com/ZettaScaleLabs/nu-zenoh>https://github.com/ZettaScaleLabs/nu-zenoh</a> and is based on <a href=https://www.nushell.sh/blog/2025-07-30-nushell_0_106_1.html>Nushell 0.106.1</a> as of commit <code>578316b</code>; see the repository <a href="https://github.com/ZettaScaleLabs/nu-zenoh?tab=readme-ov-file#nuze-zenoh-nu-shell">README</a> for installation and usage instructions.</p><h1 id=changelogs>Changelogs</h1><p>The effort behind Zenoh 1.6.x <strong>Imoogi</strong> has resulted in numerous bug fixes and improvements across the ecosystem. The full changelog for every Zenoh repository is available at the following links:</p><p><a href=https://github.com/eclipse-zenoh/zenoh/releases>Rust</a> | <a href=https://github.com/eclipse-zenoh/zenoh-c/releases>C</a> | <a href=https://github.com/eclipse-zenoh/zenoh-cpp/releases>C++</a> | <a href=https://github.com/eclipse-zenoh/zenoh-python/releases>Python</a> | <a href=https://github.com/eclipse-zenoh/zenoh-java/releases>Java</a> | <a href=https://github.com/eclipse-zenoh/zenoh-kotlin/releases>Kotlin</a> | <a href=https://github.com/eclipse-zenoh/zenoh-ts/releases>TypeScript</a> | <a href=https://github.com/eclipse-zenoh/zenoh-pico/releases>Pico</a> | <a href=https://github.com/eclipse-zenoh/zenoh-plugin-dds/releases>DDS plugin</a> | <a href=https://github.com/eclipse-zenoh/zenoh-plugin-ros2dds/releases>ROS2 plugin</a> | <a href=https://github.com/eclipse-zenoh/zenoh-plugin-mqtt/releases>MQTT plugin</a> | <a href=https://github.com/eclipse-zenoh/zenoh-plugin-webserver/releases>WebServer plugin</a> | <a href=https://github.com/eclipse-zenoh/zenoh-backend-filesystem/releases>Filesystem backend</a> | <a href=https://github.com/eclipse-zenoh/zenoh-backend-rocksdb/releases>RocksDB backend</a> | <a href=https://github.com/eclipse-zenoh/zenoh-backend-s3/releases>S3 backend</a> | <a href=https://github.com/eclipse-zenoh/zenoh-backend-influxdb/releases>InfluxDB backend</a></p><p>We&rsquo;re thrilled to see what you&rsquo;ll build with these enhancements. As always, your feedback, contributions, and success stories help shape the future of Zenoh. Join the conversation, share your experiences, and help us continue making Zenoh better for everyone.</p><p>You can reach us on <a href=https://discord.com/invite/vSDSpqnbkm>Zenoh&rsquo;s Discord server</a>!</p><p>Like the Imoogi ascending to become a true dragon, may your systems rise to new heights,</p><p><strong>‚Äì The Zenoh Team</strong></p><div class=ato-next><b>Next up</b>: <a href=../../blog/2025-07-28-zenoh-hong/>Zenoh 1.5.0: Hong, the Red Dragon's Power</a></div></main></div></div><footer class="ato-footer text-muted"><div class="container-fluid p-6 p-md-5"><div class=row><div class=col-md-2><h5>Eclipse Incubation</h5><p><img src=../../img/eclipse-incubation.png style=width:100px></p><p>Eclipse zenoh &trade; is an incubating project under the Eclipse Foundation.</p></div><div class=col-md-2><h5>More Information</h5><p><a href=https://www.eclipse.org/legal target=_blank>Legal</a></p><p><a href=https://www.eclipse.org/legal/privacy.php target=_blank>Privacy policy</a></p><p><a href=https://www.eclipse.org/legal/termsofuse.php target=_blank>Terms of use</a></p><p><a href=https://www.eclipse.org/legal/copyright.php target=_blank>Copyright</a></p><p><a href=https://www.eclipse.org/security/ target=_blank>Report a security issue</a></p><p><a href=https://www.eclipse.org/legal/epl-2.0/ target=_blank>Eclipse Public License 2.0</a></p><p><a href=https://www.apache.org/licenses/LICENSE-2.0 target=_blank>Apache License 2.0</a></p><p><a href=https://www.eclipse.org/ target=_blank>Eclipse Foundation</a></p></div><div class=col-md-2><h5>Sponsored by:</h5><p><a href=https://www.eclipse.org target=_blank><img src=../../img/eclipse-foundation.svg style=width:120px></a></p><p><a href=https://zettascale.tech target=_blank><img src=../../img/zettascale-dark.svg style=width:120px></a></p></div><div class=col-md-2><h5>Follow us</h5><p><a href=https://github.com/eclipse-zenoh/zenoh><i class="fa fa-github" aria-hidden=true></i>
GitHub</a></p><p><a href=https://discord.gg/vSDSpqnbkm><i class="fa fa fa-comments-o" aria-hidden=true></i>
Discord</a></p><p><a href=https://www.youtube.com/channel/UCslbiyiqgOAPMjCrPWIfQ5Q><i class="fa fa-youtube-play" aria-hidden=true></i> Youtube</a></p><p><a href=../../docs/overview/what-is-zenoh><i class="fa fa-info-circle" aria-hidden=true></i> About</a></p></div><div class=col-md-2><p><img src=../../img/zenoh-dragon-150x163.png style=width:45px></p><p>Eclipse zenoh &trade; is free, open source and always will be.</p><p>Copyright &copy 2022 Eclipse Foundation</p><p>Built with <a href=https://gohugo.io/ target=_blank>HUGO</a></p></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js integrity=sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js integrity=sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 crossorigin=anonymous></script>
<script src=../../js/bootstrap.min.js></script>
<script src=../../js/highlight.min.js></script>
<script>$(function(){$("pre code").each(function(e,t){if(t.className.indexOf("language-rust")>=0){for(var s="",n=t.textContent.split(`
`),e=0;e<n.length;e++){if(n[e].indexOf("# ")==0||n[e]=="#")continue;s+=n[e].trimRight()+`
`}t.textContent=s.replace(/\n\n\n/g,`

`).trimRight()}hljs.highlightBlock(t)})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-PBD6MS51QL"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PBD6MS51QL",{anonymize_ip:!1})}</script></body></html>